# –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω—ã–µ —Ä–∞–±–æ—Ç—ã
–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω—ã–µ —Ä–∞–±–æ—Ç—ã –ø–æ –ë–∞–∑–∞–º –î–∞–Ω–Ω—ã—Ö –ú–µ–¥–≤–µ–¥–µ–≤ –í–ª–∞–¥–∏—Å–ª–∞–≤ 02261-–î–ë
–í–∞—Ä–∏–∞–Ω—Ç 29. –ü–æ–∫—É–ø–∫–∞ –±–∏–ª–µ—Ç–æ–≤ –Ω–∞ –ø–æ–µ–∑–¥–∞
## –í–∞—Ä–∏–∞–Ω—Ç 29. –ü–æ–∫—É–ø–∫–∞ –±–∏–ª–µ—Ç–æ–≤ –Ω–∞ –ø–æ–µ–∑–¥–∞. –ü–æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–¥–∞—á–∏
–£—Å–ª–æ–≤–∏–µ –∑–∞–¥–∞—á–∏:

–ò–º–µ—é—Ç—Å—è –ø–æ–µ–∑–¥–∞ (–Ω–æ–º–µ—Ä, –≥–æ–¥ –≤—ã–ø—É—Å–∫–∞, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–∞–≥–æ–Ω–æ–≤, —Ç–∏–ø) –∏ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –¥–≤–∏–∂–µ–Ω–∏—è (–¥–∞—Ç–∞ –∏ –≤—Ä–µ–º—è –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏—è/–ø—Ä–∏–±—ã—Ç–∏—è, —Å—Ç–∞–Ω—Ü–∏–∏). –ù–∞–∫–∞–ø–ª–∏–≤–∞—é—Ç—Å—è —Å–≤–µ–¥–µ–Ω–∏—è –æ –ø—Ä–æ–¥–∞–Ω–Ω—ã—Ö –±–∏–ª–µ—Ç–∞—Ö —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –ø–∞—Å—Å–∞–∂–∏—Ä–æ–≤, –¥–∞—Ç—ã –ø—Ä–æ–¥–∞–∂–∏, —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –º–µ—Å—Ç–∞—Ö.

–°—É—â–Ω–æ—Å—Ç–∏:

    –ü–æ–µ–∑–¥–∞ (train_id, –Ω–æ–º–µ—Ä_–ø–æ–µ–∑–¥–∞, –≥–æ–¥_–≤—ã–ø—É—Å–∫–∞, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ_–≤–∞–≥–æ–Ω–æ–≤, —Ç–∏–ø_–ø–æ–µ–∑–¥–∞)

    –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ (schedule_id, –Ω–æ–º–µ—Ä_–ø–æ–µ–∑–¥–∞, –¥–∞—Ç–∞_–æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏—è, –≤—Ä–µ–º—è_–æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏—è, –º–µ—Å—Ç–æ_–æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏—è, –¥–∞—Ç–∞_–ø—Ä–∏–±—ã—Ç–∏—è, –≤—Ä–µ–º—è_–ø—Ä–∏–±—ã—Ç–∏—è, –º–µ—Å—Ç–æ_–ø—Ä–∏–±—ã—Ç–∏—è)

    –ë–∏–ª–µ—Ç—ã (ticket_id, –Ω–æ–º–µ—Ä_—Ä–µ–π—Å–∞, –¥–∞—Ç–∞_–ø—Ä–æ–¥–∞–∂–∏, –≤—Ä–µ–º—è_–ø—Ä–æ–¥–∞–∂–∏, –§–ò–û_–ø–∞—Å—Å–∞–∂–∏—Ä–∞, –ø–∞—Å–ø–æ—Ä—Ç–Ω—ã–µ_–¥–∞–Ω–Ω—ã–µ, –Ω–æ–º–µ—Ä_–ø–æ–µ–∑–¥–∞, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ_–±–∏–ª–µ—Ç–æ–≤, –Ω–∞–ª–∏—á–∏–µ_–ª—å–≥–æ—Ç, –≤–∏–¥_–≤–∞–≥–æ–Ω–∞, –Ω–æ–º–µ—Ä_–≤–∞–≥–æ–Ω–∞, –Ω–æ–º–µ—Ä_–º–µ—Å—Ç–∞, —Å—Ç–æ–∏–º–æ—Å—Ç—å)

    –ü–∞—Å—Å–∞–∂–∏—Ä—ã (passenger_id, –§–ò–û_–ø–∞—Å—Å–∞–∂–∏—Ä–∞, –ø–∞—Å–ø–æ—Ä—Ç–Ω—ã–µ_–¥–∞–Ω–Ω—ã–µ, —Ç–∏–ø_–ª—å–≥–æ—Ç—ã)

–ü—Ä–æ—Ü–µ—Å—Å—ã: (–û—Ç–Ω–æ—à–µ–Ω–∏—è)

–ü—Ä–∏ –ø–æ–∫—É–ø–∫–µ –±–∏–ª–µ—Ç–∞ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç—Å—è –¥–æ—Å—Ç—É–ø –∫ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é –¥–ª—è –≤—ã–±–æ—Ä–∞ –ø–æ–¥—Ö–æ–¥—è—â–µ–≥–æ –ø–æ–µ–∑–¥–∞. –ù–∞–∫–∞–ø–ª–∏–≤–∞–µ—Ç—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ–¥–∞–Ω–Ω—ã—Ö –±–∏–ª–µ—Ç–∞—Ö —Å –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–µ–π –ø–æ –ø–∞—Å—Å–∞–∂–∏—Ä–∞–º, –º–µ—Å—Ç–∞–º –∏ —Å—Ç–æ–∏–º–æ—Å—Ç–∏.

–í—ã—Ö–æ–¥–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã:

    –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –ø–æ–µ–∑–¥–æ–≤ —Å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–º–∏ –º–µ—Å—Ç–∞–º–∏ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏ –ø—Ä–∏–±—ã—Ç–∏—è –∏ —Å –ø–æ–ª–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –ø–æ–µ–∑–¥–∞—Ö

    –°–ø–∏—Å–æ–∫ –ø—Ä–æ–¥–∞–Ω–Ω—ã—Ö –±–∏–ª–µ—Ç–æ–≤ –∑–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä–≤–∞–ª –≤—Ä–µ–º–µ–Ω–∏ —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –∏—Ö —Å—Ç–æ–∏–º–æ—Å—Ç–∏, —É–ø–æ—Ä—è–¥–æ—á–µ–Ω–Ω—ã–π –ø–æ –¥–∞—Ç–∞–º, –∞ –≤–Ω—É—Ç—Ä–∏ –æ–¥–Ω–æ–π –¥–∞—Ç—ã ‚Äì –ø–æ –Ω–æ–º–µ—Ä–∞–º –≤–∞–≥–æ–Ω–æ–≤

## –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ 3–ù–§.
–ê–Ω–∞–ª–∏–∑ –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ 3–ù–§ (–¢—Ä–µ—Ç—å–µ–π –Ω–æ—Ä–º–∞–ª—å–Ω–æ–π —Ñ–æ—Ä–º–µ)

3–ù–§ —Ç—Ä–µ–±—É–µ—Ç:

    –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ 2–ù–§ (–≤—Å–µ –Ω–µ–∫–ª—é—á–µ–≤—ã–µ –∞—Ç—Ä–∏–±—É—Ç—ã –∑–∞–≤–∏—Å—è—Ç –æ—Ç –≤—Å–µ–≥–æ –ø–µ—Ä–≤–∏—á–Ω–æ–≥–æ –∫–ª—é—á–∞)

    –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Ç—Ä–∞–Ω–∑–∏—Ç–∏–≤–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (–Ω–µ–∫–ª—é—á–µ–≤—ã–µ –∞—Ç—Ä–∏–±—É—Ç—ã –Ω–µ –¥–æ–ª–∂–Ω—ã –∑–∞–≤–∏—Å–µ—Ç—å –æ—Ç –¥—Ä—É–≥–∏—Ö –Ω–µ–∫–ª—é—á–µ–≤—ã—Ö –∞—Ç—Ä–∏–±—É—Ç–æ–≤)

–ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–∞—à–µ–π –º–æ–¥–µ–ª–∏:

‚úÖ –ü–æ–µ–∑–¥

    –Ω–æ–º–µ—Ä_–ø–æ–µ–∑–¥–∞ ‚Üí –≥–æ–¥_–≤—ã–ø—É—Å–∫–∞, —Ç–∏–ø_–ø–æ–µ–∑–¥–∞, –∫–æ–ª-–≤–æ_–≤–∞–≥–æ–Ω–æ–≤

    –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç 3–ù–§ - –≤—Å–µ –∞—Ç—Ä–∏–±—É—Ç—ã –∑–∞–≤–∏—Å—è—Ç –æ—Ç –ø–µ—Ä–≤–∏—á–Ω–æ–≥–æ –∫–ª—é—á–∞

‚úÖ –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ

    –∞–π–¥–∏_—Ä–µ–π—Å–∞ ‚Üí –Ω–æ–º–µ—Ä_–ø–æ–µ–∑–¥–∞, –¥–∞—Ç–∞_–æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏—è, –≤—Ä–µ–º—è_–æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏—è, etc.

    –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç 3–ù–§ - –≤—Å–µ –∞—Ç—Ä–∏–±—É—Ç—ã –∑–∞–≤–∏—Å—è—Ç –æ—Ç –ø–µ—Ä–≤–∏—á–Ω–æ–≥–æ –∫–ª—é—á–∞

‚ùå –ë–∏–ª–µ—Ç - –ù–ï –°–û–û–¢–í–ï–¢–°–¢–í–£–ï–¢ 3–ù–§

    –ü—Ä–æ–±–ª–µ–º—ã:

        –Ω–∞–ª–∏—á–∏–µ_–ª—å–≥–æ—Ç –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –ø–∞—Å—Å–∞–∂–∏—Ä–∞, –∞ –Ω–µ –æ—Ç –±–∏–ª–µ—Ç–∞

        –≤–∏–¥_–≤–∞–≥–æ–Ω–∞ –º–æ–∂–µ—Ç –∑–∞–≤–∏—Å–µ—Ç—å –æ—Ç –Ω–æ–º–µ—Ä_–≤–∞–≥–æ–Ω–∞ –∏ –ø–æ–µ–∑–¥–∞

        —Å—Ç–æ–∏–º–æ—Å—Ç—å –º–æ–∂–µ—Ç –∑–∞–≤–∏—Å–µ—Ç—å –æ—Ç –≤–∏–¥–∞_–≤–∞–≥–æ–Ω–∞ –∏ –Ω–∞–ª–∏—á–∏–µ_–ª—å–≥–æ—Ç

‚úÖ –ü–∞—Å—Å–∞–∂–∏—Ä

    –∞–π–¥–∏_–ø–∞—Å—Å–∞–∂–∏—Ä–∞ ‚Üí —Ñ–∞–º–∏–ª–∏—è_–ø–∞—Å—Å–∞–∂–∏—Ä–∞, –∏–º—è_–ø–∞—Å—Å–∞–∂–∏—Ä–∞, –æ—Ç—á–µ—Å—Ç–≤–æ_–ø–∞—Å—Å–∞–∂–∏—Ä–∞, –ø–∞—Å–ø–æ—Ä—Ç–Ω—ã–µ_–¥–∞–Ω–Ω—ã–µ

    –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç 3–ù–§

üéØ –£–ª—É—á—à–µ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∞—è 3–ù–§
```sql
-- 1. –ü–æ–µ–∑–¥–∞ (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π)
CREATE TABLE trains (
    train_id VARCHAR(10) PRIMARY KEY,
    manufacture_year INTEGER NOT NULL,
    train_type VARCHAR(20) NOT NULL,
    carriage_count INTEGER NOT NULL
);

-- 2. –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π)
CREATE TABLE schedules (
    schedule_id SERIAL PRIMARY KEY,
    train_id VARCHAR(10) NOT NULL REFERENCES trains(train_id),
    departure_date DATE NOT NULL,
    departure_time TIME NOT NULL,
    departure_station VARCHAR(100) NOT NULL,
    arrival_date DATE NOT NULL,
    arrival_time TIME NOT NULL,
    arrival_station VARCHAR(100) NOT NULL
);

-- 3. –ü–∞—Å—Å–∞–∂–∏—Ä—ã (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π)
CREATE TABLE passengers (
    passenger_id SERIAL PRIMARY KEY,
    last_name VARCHAR(100) NOT NULL,
    first_name VARCHAR(100) NOT NULL,
    middle_name VARCHAR(100),
    passport_data VARCHAR(50) UNIQUE NOT NULL,
    benefit_type VARCHAR(30) -- –í—ã–Ω–µ—Å–ª–∏ –ª—å–≥–æ—Ç—ã —Å—é–¥–∞!
);

-- 4. NEW: –¢–∏–ø—ã –≤–∞–≥–æ–Ω–æ–≤ –∏ —Ü–µ–Ω—ã
CREATE TABLE carriage_pricing (
    carriage_type_id SERIAL PRIMARY KEY,
    carriage_type VARCHAR(20) NOT NULL UNIQUE, -- '–∫—É–ø–µ–π–Ω—ã–π', '–ø–ª–∞—Ü–∫–∞—Ä—Ç–Ω—ã–π', etc.
    base_price DECIMAL(10,2) NOT NULL
);

-- 5. NEW: –í–∞–≥–æ–Ω—ã –≤ –ø–æ–µ–∑–¥–∞—Ö
CREATE TABLE train_carriages (
    train_id VARCHAR(10) REFERENCES trains(train_id),
    carriage_number INTEGER NOT NULL,
    carriage_type_id INTEGER REFERENCES carriage_pricing(carriage_type_id),
    PRIMARY KEY (train_id, carriage_number)
);

-- 6. –£–ª—É—á—à–µ–Ω–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –±–∏–ª–µ—Ç–æ–≤
CREATE TABLE tickets (
    ticket_id SERIAL PRIMARY KEY,
    schedule_id INTEGER NOT NULL REFERENCES schedules(schedule_id),
    passenger_id INTEGER NOT NULL REFERENCES passengers(passenger_id),
    train_id VARCHAR(10) NOT NULL,
    carriage_number INTEGER NOT NULL,
    seat_number INTEGER NOT NULL,
    sale_datetime TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    final_price DECIMAL(10,2) NOT NULL,
    
    -- –í–Ω–µ—à–Ω–∏–π –∫–ª—é—á –Ω–∞ —Å–æ—Å—Ç–∞–≤ –ø–æ–µ–∑–¥–∞
    FOREIGN KEY (train_id, carriage_number) 
    REFERENCES train_carriages(train_id, carriage_number),
    
    -- –£–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å –º–µ—Å—Ç–∞
    UNIQUE (schedule_id, carriage_number, seat_number)
);
```

# –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ 1.
## ER-–¥–∏–∞–≥—Ä–∞–º–º–∞
<img width="796" height="669" alt="diagramm" src="https://github.com/user-attachments/assets/0795a525-8b07-4a45-a465-ce1eedd9b4db" />

# –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ 2.
## –õ–æ–≥–∏—á–µ—Å–∫–∞—è –º–æ–¥–µ–ª—å –ø–æ –¥–∏–∞–≥—Ä–∞–º–º–µ

1. –°—É—â–Ω–æ—Å—Ç—å: –ü–æ–µ–∑–¥
  –Ω–æ–º–µ—Ä_–ø–æ–µ–∑–¥–∞ (PK) ‚Äî —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø–æ–µ–∑–¥–∞
  –≥–æ–¥_–≤—ã–ø—É—Å–∫–∞ ‚Äî –≥–æ–¥ –≤—ã–ø—É—Å–∫–∞ –ø–æ–µ–∑–¥–∞
  —Ç–∏–ø_–ø–æ–µ–∑–¥–∞ ‚Äî —Ç–∏–ø –ø–æ–µ–∑–¥–∞ (–ø–∞—Å—Å–∞–∂–∏—Ä—Å–∫–∏–π, —Å–∫–æ—Ä—ã–π, —ç–∫—Å–ø—Ä–µ—Å—Å –∏ —Ç. –¥.)
  –∫–æ–ª-–≤–æ_–≤–∞–≥–æ–Ω–æ–≤ ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–∞–≥–æ–Ω–æ–≤ –≤ —Å–æ—Å—Ç–∞–≤–µ
2. –°—É—â–Ω–æ—Å—Ç—å: –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ
  –∞–π–¥–∏_—Ä–µ–π—Å–∞ (PK) ‚Äî —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Ä–µ–π—Å–∞
  –Ω–æ–º–µ—Ä_–ø–æ–µ–∑–¥–∞ (FK) ‚Äî –≤–Ω–µ—à–Ω–∏–π –∫–ª—é—á, —Å—Å—ã–ª–∞–µ—Ç—Å—è –Ω–∞ –ü–æ–µ–∑–¥(–Ω–æ–º–µ—Ä_–ø–æ–µ–∑–¥–∞)
  –¥–∞—Ç–∞_–æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏—è ‚Äî –¥–∞—Ç–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–µ–∑–¥–∞
  –≤—Ä–µ–º—è_–æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏—è ‚Äî –≤—Ä–µ–º—è –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏—è
  –º–µ—Å—Ç–æ_–æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏—è ‚Äî —Å—Ç–∞–Ω—Ü–∏—è –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏—è
  –¥–∞—Ç–∞_–ø—Ä–∏–±—ã—Ç–∏—è ‚Äî –¥–∞—Ç–∞ –ø—Ä–∏–±—ã—Ç–∏—è –ø–æ–µ–∑–¥–∞
  –≤—Ä–µ–º—è_–ø—Ä–∏–±—ã—Ç–∏—è ‚Äî –≤—Ä–µ–º—è –ø—Ä–∏–±—ã—Ç–∏—è
  –º–µ—Å—Ç–æ_–ø—Ä–∏–±—ã—Ç–∏—è ‚Äî —Å—Ç–∞–Ω—Ü–∏—è –ø—Ä–∏–±—ã—Ç–∏—è
3. –°—É—â–Ω–æ—Å—Ç—å: –ë–∏–ª–µ—Ç
  –Ω–æ–º–µ—Ä_–±–∏–ª–µ—Ç–∞ (PK) ‚Äî —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –Ω–æ–º–µ—Ä –±–∏–ª–µ—Ç–∞
  –∞–π–¥–∏_—Ä–µ–π—Å–∞ (FK) ‚Äî –≤–Ω–µ—à–Ω–∏–π –∫–ª—é—á, —Å—Å—ã–ª–∞–µ—Ç—Å—è –Ω–∞ –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ(–∞–π–¥–∏_—Ä–µ–π—Å–∞)
  –∞–π–¥–∏_–ø–∞—Å—Å–∞–∂–∏—Ä–∞ (FK) ‚Äî –≤–Ω–µ—à–Ω–∏–π –∫–ª—é—á, —Å—Å—ã–ª–∞–µ—Ç—Å—è –Ω–∞ –ü–∞—Å—Å–∞–∂–∏—Ä(–∞–π–¥–∏_–ø–∞—Å—Å–∞–∂–∏—Ä–∞)
  –¥–∞—Ç–∞_–ø—Ä–æ–¥–∞–∂–∏ ‚Äî –¥–∞—Ç–∞ –ø–æ–∫—É–ø–∫–∏ –±–∏–ª–µ—Ç–∞
  –≤—Ä–µ–º—è_–ø—Ä–æ–¥–∞–∂–∏ ‚Äî –≤—Ä–µ–º—è –ø–æ–∫—É–ø–∫–∏ –±–∏–ª–µ—Ç–∞
  –∫–æ–ª-–≤–æ_–±–∏–ª–µ—Ç–æ–≤ ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫—É–ø–ª–µ–Ω–Ω—ã—Ö –±–∏–ª–µ—Ç–æ–≤
  –Ω–∞–ª–∏—á–∏–µ_–ª—å–≥–æ—Ç ‚Äî –Ω–∞–ª–∏—á–∏–µ –ª—å–≥–æ—Ç (true/false)
  –≤–∏–¥_–≤–∞–≥–æ–Ω–∞ ‚Äî —Ç–∏–ø –≤–∞–≥–æ–Ω–∞ (–∫—É–ø–µ, –ø–ª–∞—Ü–∫–∞—Ä—Ç, –°–í –∏ —Ç. –¥.)
  –Ω–æ–º–µ—Ä_–≤–∞–≥–æ–Ω–∞ ‚Äî –Ω–æ–º–µ—Ä –≤–∞–≥–æ–Ω–∞
  –Ω–æ–º–µ—Ä_–º–µ—Å—Ç–∞ ‚Äî –Ω–æ–º–µ—Ä –º–µ—Å—Ç–∞
  —Å—Ç–æ–∏–º–æ—Å—Ç—å ‚Äî —Å—Ç–æ–∏–º–æ—Å—Ç—å –±–∏–ª–µ—Ç–∞
4. –°—É—â–Ω–æ—Å—Ç—å: –ü–∞—Å—Å–∞–∂–∏—Ä
  –∞–π–¥–∏_–ø–∞—Å—Å–∞–∂–∏—Ä–∞ (PK) ‚Äî —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø–∞—Å—Å–∞–∂–∏—Ä–∞
  —Ñ–∞–º–∏–ª–∏—è_–ø–∞—Å—Å–∞–∂–∏—Ä–∞ ‚Äî —Ñ–∞–º–∏–ª–∏—è –ø–∞—Å—Å–∞–∂–∏—Ä–∞
  –∏–º—è_–ø–∞—Å—Å–∞–∂–∏—Ä–∞ ‚Äî –∏–º—è –ø–∞—Å—Å–∞–∂–∏—Ä–∞
  –æ—Ç—á–µ—Å—Ç–≤–æ_–ø–∞—Å—Å–∞–∂–∏—Ä–∞ ‚Äî –æ—Ç—á–µ—Å—Ç–≤–æ –ø–∞—Å—Å–∞–∂–∏—Ä–∞
  –ø–∞—Å–ø–æ—Ä—Ç–Ω—ã–µ_–¥–∞–Ω–Ω—ã–µ ‚Äî —Å–µ—Ä–∏—è –∏ –Ω–æ–º–µ—Ä –ø–∞—Å–ø–æ—Ä—Ç–∞

## –§–∏–∑–∏—á–µ—Å–∫–∞—è –º–æ–¥–µ–ª—å
```sql
-- –¢–∏–ø—ã –ø–æ–µ–∑–¥–æ–≤
CREATE TABLE train_types (
    type_id INTEGER PRIMARY KEY,
    type_name VARCHAR(20) NOT NULL UNIQUE
);

-- –¢–∏–ø—ã –≤–∞–≥–æ–Ω–æ–≤
CREATE TABLE carriage_types (
    carriage_type_id INTEGER PRIMARY KEY,
    type_name VARCHAR(20) NOT NULL UNIQUE,
    base_price DECIMAL(10,2) NOT NULL CHECK (base_price >= 0)
);

-- –¢–∏–ø—ã –ª—å–≥–æ—Ç
CREATE TABLE benefit_types (
    benefit_id INTEGER PRIMARY KEY,
    benefit_name VARCHAR(20) NOT NULL UNIQUE,
    discount_percent INTEGER NOT NULL CHECK (discount_percent >= 0 AND discount_percent <= 100)
);

-- –ü–æ–µ–∑–¥–∞
CREATE TABLE trains (
    train_id VARCHAR(10) PRIMARY KEY,
    manufacture_year INTEGER NOT NULL CHECK (manufacture_year > 1900 AND manufacture_year <= EXTRACT(YEAR FROM CURRENT_DATE)),
    carriage_count INTEGER NOT NULL CHECK (carriage_count > 0 AND carriage_count <= 20),
    type_id INTEGER NOT NULL,
    
    FOREIGN KEY (type_id) REFERENCES train_types(type_id) ON DELETE RESTRICT
);

-- –ü–∞—Å—Å–∞–∂–∏—Ä—ã
CREATE TABLE passengers (
    passenger_id SERIAL PRIMARY KEY,
    last_name VARCHAR(50) NOT NULL,
    first_name VARCHAR(50) NOT NULL,
    middle_name VARCHAR(50),
    passport_series VARCHAR(4) NOT NULL,
    passport_number VARCHAR(6) NOT NULL,
    benefit_id INTEGER,
    
    FOREIGN KEY (benefit_id) REFERENCES benefit_types(benefit_id) ON DELETE SET NULL,
    UNIQUE (passport_series, passport_number)
);

-- –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ
CREATE TABLE schedules (
    schedule_id SERIAL PRIMARY KEY,
    train_id VARCHAR(10) NOT NULL,
    departure_date DATE NOT NULL,
    departure_time TIME NOT NULL,
    departure_station VARCHAR(100) NOT NULL,
    arrival_date DATE NOT NULL,
    arrival_time TIME NOT NULL,
    arrival_station VARCHAR(100) NOT NULL,
    
    FOREIGN KEY (train_id) REFERENCES trains(train_id) ON DELETE CASCADE,
    CHECK (arrival_date >= departure_date),
    UNIQUE (train_id, departure_date, departure_time)
);

-- –ë–∏–ª–µ—Ç—ã
CREATE TABLE tickets (
    ticket_id SERIAL PRIMARY KEY,
    schedule_id INTEGER NOT NULL,
    passenger_id INTEGER NOT NULL,
    sale_datetime TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    ticket_count INTEGER NOT NULL DEFAULT 1 CHECK (ticket_count > 0 AND ticket_count <= 4),
    carriage_type_id INTEGER NOT NULL,
    carriage_number INTEGER NOT NULL CHECK (carriage_number > 0),
    seat_number INTEGER NOT NULL CHECK (seat_number > 0),
    base_price DECIMAL(10,2) NOT NULL CHECK (base_price >= 0),
    final_price DECIMAL(10,2) NOT NULL CHECK (final_price >= 0),
    
    FOREIGN KEY (schedule_id) REFERENCES schedules(schedule_id) ON DELETE CASCADE,
    FOREIGN KEY (passenger_id) REFERENCES passengers(passenger_id) ON DELETE CASCADE,
    FOREIGN KEY (carriage_type_id) REFERENCES carriage_types(carriage_type_id) ON DELETE RESTRICT,
    UNIQUE (schedule_id, carriage_number, seat_number)
);

-- –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–æ–≤ –±–∞–∑–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
INSERT INTO train_types (type_id, type_name) VALUES
(1, '–æ–±—â–∏–π'),
(2, '—Å–∫–æ—Ä–æ—Å—Ç–Ω–æ–π'),
(3, '–≤—ã—Å–æ–∫–æ—Å–∫–æ—Ä–æ—Å—Ç–Ω–æ–π');

INSERT INTO carriage_types (carriage_type_id, type_name, base_price) VALUES
(1, '–æ–±—â–∏–π', 1000.00),
(2, '–ø–ª–∞—Ü–∫–∞—Ä—Ç–Ω—ã–π', 2000.00),
(3, '–∫—É–ø–µ–π–Ω—ã–π', 3500.00);

INSERT INTO benefit_types (benefit_id, benefit_name, discount_percent) VALUES
(1, '–ø–µ–Ω—Å–∏–æ–Ω–µ—Ä', 30),
(2, '—Ä–µ–±–µ–Ω–æ–∫-—Å–∏—Ä–æ—Ç–∞', 50),
(3, '–∏–Ω–≤–∞–ª–∏–¥', 40);

-- –°–æ–∑–¥–∞–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–æ–≤ –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
CREATE INDEX idx_schedules_departure ON schedules(departure_station, departure_date);
CREATE INDEX idx_schedules_arrival ON schedules(arrival_station, arrival_date);
CREATE INDEX idx_tickets_sale_date ON tickets(sale_datetime);
CREATE INDEX idx_tickets_passenger ON tickets(passenger_id);
CREATE INDEX idx_passengers_name ON passengers(last_name, first_name);
CREATE INDEX idx_passengers_passport ON passengers(passport_series, passport_number);
CREATE INDEX idx_trains_type ON trains(type_id);
```
