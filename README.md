# –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω—ã–µ —Ä–∞–±–æ—Ç—ã
–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω—ã–µ —Ä–∞–±–æ—Ç—ã –ø–æ –ë–∞–∑–∞–º –î–∞–Ω–Ω—ã—Ö –ú–µ–¥–≤–µ–¥–µ–≤ –í–ª–∞–¥–∏—Å–ª–∞–≤ 02261-–î–ë
–í–∞—Ä–∏–∞–Ω—Ç 29. –ü–æ–∫—É–ø–∫–∞ –±–∏–ª–µ—Ç–æ–≤ –Ω–∞ –ø–æ–µ–∑–¥–∞
## –í–∞—Ä–∏–∞–Ω—Ç 29. –ü–æ–∫—É–ø–∫–∞ –±–∏–ª–µ—Ç–æ–≤ –Ω–∞ –ø–æ–µ–∑–¥–∞. –ü–æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–¥–∞—á–∏
–£—Å–ª–æ–≤–∏–µ –∑–∞–¥–∞—á–∏:

–ò–º–µ—é—Ç—Å—è –ø–æ–µ–∑–¥–∞ (–Ω–æ–º–µ—Ä, –≥–æ–¥ –≤—ã–ø—É—Å–∫–∞, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–∞–≥–æ–Ω–æ–≤, —Ç–∏–ø) –∏ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –¥–≤–∏–∂–µ–Ω–∏—è (–¥–∞—Ç–∞ –∏ –≤—Ä–µ–º—è –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏—è/–ø—Ä–∏–±—ã—Ç–∏—è, —Å—Ç–∞–Ω—Ü–∏–∏). –ù–∞–∫–∞–ø–ª–∏–≤–∞—é—Ç—Å—è —Å–≤–µ–¥–µ–Ω–∏—è –æ –ø—Ä–æ–¥–∞–Ω–Ω—ã—Ö –±–∏–ª–µ—Ç–∞—Ö —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –ø–∞—Å—Å–∞–∂–∏—Ä–æ–≤, –¥–∞—Ç—ã –ø—Ä–æ–¥–∞–∂–∏, —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –º–µ—Å—Ç–∞—Ö.

–°—É—â–Ω–æ—Å—Ç–∏:

    –ü–æ–µ–∑–¥–∞ (train_id, –Ω–æ–º–µ—Ä_–ø–æ–µ–∑–¥–∞, –≥–æ–¥_–≤—ã–ø—É—Å–∫–∞, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ_–≤–∞–≥–æ–Ω–æ–≤, —Ç–∏–ø_–ø–æ–µ–∑–¥–∞)

    –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ (schedule_id, –Ω–æ–º–µ—Ä_–ø–æ–µ–∑–¥–∞, –¥–∞—Ç–∞_–æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏—è, –≤—Ä–µ–º—è_–æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏—è, –º–µ—Å—Ç–æ_–æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏—è, –¥–∞—Ç–∞_–ø—Ä–∏–±—ã—Ç–∏—è, –≤—Ä–µ–º—è_–ø—Ä–∏–±—ã—Ç–∏—è, –º–µ—Å—Ç–æ_–ø—Ä–∏–±—ã—Ç–∏—è)

    –ë–∏–ª–µ—Ç—ã (ticket_id, –Ω–æ–º–µ—Ä_—Ä–µ–π—Å–∞, –¥–∞—Ç–∞_–ø—Ä–æ–¥–∞–∂–∏, –≤—Ä–µ–º—è_–ø—Ä–æ–¥–∞–∂–∏, –§–ò–û_–ø–∞—Å—Å–∞–∂–∏—Ä–∞, –ø–∞—Å–ø–æ—Ä—Ç–Ω—ã–µ_–¥–∞–Ω–Ω—ã–µ, –Ω–æ–º–µ—Ä_–ø–æ–µ–∑–¥–∞, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ_–±–∏–ª–µ—Ç–æ–≤, –Ω–∞–ª–∏—á–∏–µ_–ª—å–≥–æ—Ç, –≤–∏–¥_–≤–∞–≥–æ–Ω–∞, –Ω–æ–º–µ—Ä_–≤–∞–≥–æ–Ω–∞, –Ω–æ–º–µ—Ä_–º–µ—Å—Ç–∞, —Å—Ç–æ–∏–º–æ—Å—Ç—å)

    –ü–∞—Å—Å–∞–∂–∏—Ä—ã (passenger_id, –§–ò–û_–ø–∞—Å—Å–∞–∂–∏—Ä–∞, –ø–∞—Å–ø–æ—Ä—Ç–Ω—ã–µ_–¥–∞–Ω–Ω—ã–µ, —Ç–∏–ø_–ª—å–≥–æ—Ç—ã)

–ü—Ä–æ—Ü–µ—Å—Å—ã: (–û—Ç–Ω–æ—à–µ–Ω–∏—è)

–ü—Ä–∏ –ø–æ–∫—É–ø–∫–µ –±–∏–ª–µ—Ç–∞ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç—Å—è –¥–æ—Å—Ç—É–ø –∫ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é –¥–ª—è –≤—ã–±–æ—Ä–∞ –ø–æ–¥—Ö–æ–¥—è—â–µ–≥–æ –ø–æ–µ–∑–¥–∞. –ù–∞–∫–∞–ø–ª–∏–≤–∞–µ—Ç—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ–¥–∞–Ω–Ω—ã—Ö –±–∏–ª–µ—Ç–∞—Ö —Å –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–µ–π –ø–æ –ø–∞—Å—Å–∞–∂–∏—Ä–∞–º, –º–µ—Å—Ç–∞–º –∏ —Å—Ç–æ–∏–º–æ—Å—Ç–∏.

–í—ã—Ö–æ–¥–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã:

    –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –ø–æ–µ–∑–¥–æ–≤ —Å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–º–∏ –º–µ—Å—Ç–∞–º–∏ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏ –ø—Ä–∏–±—ã—Ç–∏—è –∏ —Å –ø–æ–ª–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –ø–æ–µ–∑–¥–∞—Ö

    –°–ø–∏—Å–æ–∫ –ø—Ä–æ–¥–∞–Ω–Ω—ã—Ö –±–∏–ª–µ—Ç–æ–≤ –∑–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä–≤–∞–ª –≤—Ä–µ–º–µ–Ω–∏ —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –∏—Ö —Å—Ç–æ–∏–º–æ—Å—Ç–∏, —É–ø–æ—Ä—è–¥–æ—á–µ–Ω–Ω—ã–π –ø–æ –¥–∞—Ç–∞–º, –∞ –≤–Ω—É—Ç—Ä–∏ –æ–¥–Ω–æ–π –¥–∞—Ç—ã ‚Äì –ø–æ –Ω–æ–º–µ—Ä–∞–º –≤–∞–≥–æ–Ω–æ–≤

## –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ 3–ù–§.
–ê–Ω–∞–ª–∏–∑ –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ 3–ù–§ (–¢—Ä–µ—Ç—å–µ–π –Ω–æ—Ä–º–∞–ª—å–Ω–æ–π —Ñ–æ—Ä–º–µ)

3–ù–§ —Ç—Ä–µ–±—É–µ—Ç:

    –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ 2–ù–§ (–≤—Å–µ –Ω–µ–∫–ª—é—á–µ–≤—ã–µ –∞—Ç—Ä–∏–±—É—Ç—ã –∑–∞–≤–∏—Å—è—Ç –æ—Ç –≤—Å–µ–≥–æ –ø–µ—Ä–≤–∏—á–Ω–æ–≥–æ –∫–ª—é—á–∞)

    –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Ç—Ä–∞–Ω–∑–∏—Ç–∏–≤–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (–Ω–µ–∫–ª—é—á–µ–≤—ã–µ –∞—Ç—Ä–∏–±—É—Ç—ã –Ω–µ –¥–æ–ª–∂–Ω—ã –∑–∞–≤–∏—Å–µ—Ç—å –æ—Ç –¥—Ä—É–≥–∏—Ö –Ω–µ–∫–ª—é—á–µ–≤—ã—Ö –∞—Ç—Ä–∏–±—É—Ç–æ–≤)

–ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–∞—à–µ–π –º–æ–¥–µ–ª–∏:

‚úÖ –ü–æ–µ–∑–¥

    –Ω–æ–º–µ—Ä_–ø–æ–µ–∑–¥–∞ ‚Üí –≥–æ–¥_–≤—ã–ø—É—Å–∫–∞, —Ç–∏–ø_–ø–æ–µ–∑–¥–∞, –∫–æ–ª-–≤–æ_–≤–∞–≥–æ–Ω–æ–≤

    –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç 3–ù–§ - –≤—Å–µ –∞—Ç—Ä–∏–±—É—Ç—ã –∑–∞–≤–∏—Å—è—Ç –æ—Ç –ø–µ—Ä–≤–∏—á–Ω–æ–≥–æ –∫–ª—é—á–∞

‚úÖ –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ

    –∞–π–¥–∏_—Ä–µ–π—Å–∞ ‚Üí –Ω–æ–º–µ—Ä_–ø–æ–µ–∑–¥–∞, –¥–∞—Ç–∞_–æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏—è, –≤—Ä–µ–º—è_–æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏—è, etc.

    –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç 3–ù–§ - –≤—Å–µ –∞—Ç—Ä–∏–±—É—Ç—ã –∑–∞–≤–∏—Å—è—Ç –æ—Ç –ø–µ—Ä–≤–∏—á–Ω–æ–≥–æ –∫–ª—é—á–∞

‚ùå –ë–∏–ª–µ—Ç - –ù–ï –°–û–û–¢–í–ï–¢–°–¢–í–£–ï–¢ 3–ù–§

    –ü—Ä–æ–±–ª–µ–º—ã:

        –Ω–∞–ª–∏—á–∏–µ_–ª—å–≥–æ—Ç –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –ø–∞—Å—Å–∞–∂–∏—Ä–∞, –∞ –Ω–µ –æ—Ç –±–∏–ª–µ—Ç–∞

        –≤–∏–¥_–≤–∞–≥–æ–Ω–∞ –º–æ–∂–µ—Ç –∑–∞–≤–∏—Å–µ—Ç—å –æ—Ç –Ω–æ–º–µ—Ä_–≤–∞–≥–æ–Ω–∞ –∏ –ø–æ–µ–∑–¥–∞

        —Å—Ç–æ–∏–º–æ—Å—Ç—å –º–æ–∂–µ—Ç –∑–∞–≤–∏—Å–µ—Ç—å –æ—Ç –≤–∏–¥–∞_–≤–∞–≥–æ–Ω–∞ –∏ –Ω–∞–ª–∏—á–∏–µ_–ª—å–≥–æ—Ç

‚úÖ –ü–∞—Å—Å–∞–∂–∏—Ä

    –∞–π–¥–∏_–ø–∞—Å—Å–∞–∂–∏—Ä–∞ ‚Üí —Ñ–∞–º–∏–ª–∏—è_–ø–∞—Å—Å–∞–∂–∏—Ä–∞, –∏–º—è_–ø–∞—Å—Å–∞–∂–∏—Ä–∞, –æ—Ç—á–µ—Å—Ç–≤–æ_–ø–∞—Å—Å–∞–∂–∏—Ä–∞, –ø–∞—Å–ø–æ—Ä—Ç–Ω—ã–µ_–¥–∞–Ω–Ω—ã–µ

    –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç 3–ù–§

üéØ –£–ª—É—á—à–µ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∞—è 3–ù–§
```sql
-- 1. –ü–æ–µ–∑–¥–∞ (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π)
CREATE TABLE trains (
    train_id VARCHAR(10) PRIMARY KEY,
    manufacture_year INTEGER NOT NULL,
    train_type VARCHAR(20) NOT NULL,
    carriage_count INTEGER NOT NULL
);

-- 2. –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π)
CREATE TABLE schedules (
    schedule_id SERIAL PRIMARY KEY,
    train_id VARCHAR(10) NOT NULL REFERENCES trains(train_id),
    departure_date DATE NOT NULL,
    departure_time TIME NOT NULL,
    departure_station VARCHAR(100) NOT NULL,
    arrival_date DATE NOT NULL,
    arrival_time TIME NOT NULL,
    arrival_station VARCHAR(100) NOT NULL
);

-- 3. –ü–∞—Å—Å–∞–∂–∏—Ä—ã (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π)
CREATE TABLE passengers (
    passenger_id SERIAL PRIMARY KEY,
    last_name VARCHAR(100) NOT NULL,
    first_name VARCHAR(100) NOT NULL,
    middle_name VARCHAR(100),
    passport_data VARCHAR(50) UNIQUE NOT NULL,
    benefit_type VARCHAR(30) -- –í—ã–Ω–µ—Å–ª–∏ –ª—å–≥–æ—Ç—ã —Å—é–¥–∞!
);

-- 4. NEW: –¢–∏–ø—ã –≤–∞–≥–æ–Ω–æ–≤ –∏ —Ü–µ–Ω—ã
CREATE TABLE carriage_pricing (
    carriage_type_id SERIAL PRIMARY KEY,
    carriage_type VARCHAR(20) NOT NULL UNIQUE, -- '–∫—É–ø–µ–π–Ω—ã–π', '–ø–ª–∞—Ü–∫–∞—Ä—Ç–Ω—ã–π', etc.
    base_price DECIMAL(10,2) NOT NULL
);

-- 5. NEW: –í–∞–≥–æ–Ω—ã –≤ –ø–æ–µ–∑–¥–∞—Ö
CREATE TABLE train_carriages (
    train_id VARCHAR(10) REFERENCES trains(train_id),
    carriage_number INTEGER NOT NULL,
    carriage_type_id INTEGER REFERENCES carriage_pricing(carriage_type_id),
    PRIMARY KEY (train_id, carriage_number)
);

-- 6. –£–ª—É—á—à–µ–Ω–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –±–∏–ª–µ—Ç–æ–≤
CREATE TABLE tickets (
    ticket_id SERIAL PRIMARY KEY,
    schedule_id INTEGER NOT NULL REFERENCES schedules(schedule_id),
    passenger_id INTEGER NOT NULL REFERENCES passengers(passenger_id),
    train_id VARCHAR(10) NOT NULL,
    carriage_number INTEGER NOT NULL,
    seat_number INTEGER NOT NULL,
    sale_datetime TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    final_price DECIMAL(10,2) NOT NULL,
    
    -- –í–Ω–µ—à–Ω–∏–π –∫–ª—é—á –Ω–∞ —Å–æ—Å—Ç–∞–≤ –ø–æ–µ–∑–¥–∞
    FOREIGN KEY (train_id, carriage_number) 
    REFERENCES train_carriages(train_id, carriage_number),
    
    -- –£–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å –º–µ—Å—Ç–∞
    UNIQUE (schedule_id, carriage_number, seat_number)
);
```

# –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ 1.
## ER-–¥–∏–∞–≥—Ä–∞–º–º–∞
<img width="796" height="669" alt="diagramm" src="https://github.com/user-attachments/assets/0795a525-8b07-4a45-a465-ce1eedd9b4db" />

# –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ 2.
## –õ–æ–≥–∏—á–µ—Å–∫–∞—è –º–æ–¥–µ–ª—å –ø–æ –¥–∏–∞–≥—Ä–∞–º–º–µ

1. –°—É—â–Ω–æ—Å—Ç—å: –ü–æ–µ–∑–¥
  –Ω–æ–º–µ—Ä_–ø–æ–µ–∑–¥–∞ (PK) ‚Äî —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø–æ–µ–∑–¥–∞
  –≥–æ–¥_–≤—ã–ø—É—Å–∫–∞ ‚Äî –≥–æ–¥ –≤—ã–ø—É—Å–∫–∞ –ø–æ–µ–∑–¥–∞
  —Ç–∏–ø_–ø–æ–µ–∑–¥–∞ ‚Äî —Ç–∏–ø –ø–æ–µ–∑–¥–∞ (–ø–∞—Å—Å–∞–∂–∏—Ä—Å–∫–∏–π, —Å–∫–æ—Ä—ã–π, —ç–∫—Å–ø—Ä–µ—Å—Å –∏ —Ç. –¥.)
  –∫–æ–ª-–≤–æ_–≤–∞–≥–æ–Ω–æ–≤ ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–∞–≥–æ–Ω–æ–≤ –≤ —Å–æ—Å—Ç–∞–≤–µ
2. –°—É—â–Ω–æ—Å—Ç—å: –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ
  –∞–π–¥–∏_—Ä–µ–π—Å–∞ (PK) ‚Äî —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Ä–µ–π—Å–∞
  –Ω–æ–º–µ—Ä_–ø–æ–µ–∑–¥–∞ (FK) ‚Äî –≤–Ω–µ—à–Ω–∏–π –∫–ª—é—á, —Å—Å—ã–ª–∞–µ—Ç—Å—è –Ω–∞ –ü–æ–µ–∑–¥(–Ω–æ–º–µ—Ä_–ø–æ–µ–∑–¥–∞)
  –¥–∞—Ç–∞_–æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏—è ‚Äî –¥–∞—Ç–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–µ–∑–¥–∞
  –≤—Ä–µ–º—è_–æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏—è ‚Äî –≤—Ä–µ–º—è –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏—è
  –º–µ—Å—Ç–æ_–æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏—è ‚Äî —Å—Ç–∞–Ω—Ü–∏—è –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏—è
  –¥–∞—Ç–∞_–ø—Ä–∏–±—ã—Ç–∏—è ‚Äî –¥–∞—Ç–∞ –ø—Ä–∏–±—ã—Ç–∏—è –ø–æ–µ–∑–¥–∞
  –≤—Ä–µ–º—è_–ø—Ä–∏–±—ã—Ç–∏—è ‚Äî –≤—Ä–µ–º—è –ø—Ä–∏–±—ã—Ç–∏—è
  –º–µ—Å—Ç–æ_–ø—Ä–∏–±—ã—Ç–∏—è ‚Äî —Å—Ç–∞–Ω—Ü–∏—è –ø—Ä–∏–±—ã—Ç–∏—è
3. –°—É—â–Ω–æ—Å—Ç—å: –ë–∏–ª–µ—Ç
  –Ω–æ–º–µ—Ä_–±–∏–ª–µ—Ç–∞ (PK) ‚Äî —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –Ω–æ–º–µ—Ä –±–∏–ª–µ—Ç–∞
  –∞–π–¥–∏_—Ä–µ–π—Å–∞ (FK) ‚Äî –≤–Ω–µ—à–Ω–∏–π –∫–ª—é—á, —Å—Å—ã–ª–∞–µ—Ç—Å—è –Ω–∞ –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ(–∞–π–¥–∏_—Ä–µ–π—Å–∞)
  –∞–π–¥–∏_–ø–∞—Å—Å–∞–∂–∏—Ä–∞ (FK) ‚Äî –≤–Ω–µ—à–Ω–∏–π –∫–ª—é—á, —Å—Å—ã–ª–∞–µ—Ç—Å—è –Ω–∞ –ü–∞—Å—Å–∞–∂–∏—Ä(–∞–π–¥–∏_–ø–∞—Å—Å–∞–∂–∏—Ä–∞)
  –¥–∞—Ç–∞_–ø—Ä–æ–¥–∞–∂–∏ ‚Äî –¥–∞—Ç–∞ –ø–æ–∫—É–ø–∫–∏ –±–∏–ª–µ—Ç–∞
  –≤—Ä–µ–º—è_–ø—Ä–æ–¥–∞–∂–∏ ‚Äî –≤—Ä–µ–º—è –ø–æ–∫—É–ø–∫–∏ –±–∏–ª–µ—Ç–∞
  –∫–æ–ª-–≤–æ_–±–∏–ª–µ—Ç–æ–≤ ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫—É–ø–ª–µ–Ω–Ω—ã—Ö –±–∏–ª–µ—Ç–æ–≤
  –Ω–∞–ª–∏—á–∏–µ_–ª—å–≥–æ—Ç ‚Äî –Ω–∞–ª–∏—á–∏–µ –ª—å–≥–æ—Ç (true/false)
  –≤–∏–¥_–≤–∞–≥–æ–Ω–∞ ‚Äî —Ç–∏–ø –≤–∞–≥–æ–Ω–∞ (–∫—É–ø–µ, –ø–ª–∞—Ü–∫–∞—Ä—Ç, –°–í –∏ —Ç. –¥.)
  –Ω–æ–º–µ—Ä_–≤–∞–≥–æ–Ω–∞ ‚Äî –Ω–æ–º–µ—Ä –≤–∞–≥–æ–Ω–∞
  –Ω–æ–º–µ—Ä_–º–µ—Å—Ç–∞ ‚Äî –Ω–æ–º–µ—Ä –º–µ—Å—Ç–∞
  —Å—Ç–æ–∏–º–æ—Å—Ç—å ‚Äî —Å—Ç–æ–∏–º–æ—Å—Ç—å –±–∏–ª–µ—Ç–∞
4. –°—É—â–Ω–æ—Å—Ç—å: –ü–∞—Å—Å–∞–∂–∏—Ä
  –∞–π–¥–∏_–ø–∞—Å—Å–∞–∂–∏—Ä–∞ (PK) ‚Äî —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø–∞—Å—Å–∞–∂–∏—Ä–∞
  —Ñ–∞–º–∏–ª–∏—è_–ø–∞—Å—Å–∞–∂–∏—Ä–∞ ‚Äî —Ñ–∞–º–∏–ª–∏—è –ø–∞—Å—Å–∞–∂–∏—Ä–∞
  –∏–º—è_–ø–∞—Å—Å–∞–∂–∏—Ä–∞ ‚Äî –∏–º—è –ø–∞—Å—Å–∞–∂–∏—Ä–∞
  –æ—Ç—á–µ—Å—Ç–≤–æ_–ø–∞—Å—Å–∞–∂–∏—Ä–∞ ‚Äî –æ—Ç—á–µ—Å—Ç–≤–æ –ø–∞—Å—Å–∞–∂–∏—Ä–∞
  –ø–∞—Å–ø–æ—Ä—Ç–Ω—ã–µ_–¥–∞–Ω–Ω—ã–µ ‚Äî —Å–µ—Ä–∏—è –∏ –Ω–æ–º–µ—Ä –ø–∞—Å–ø–æ—Ä—Ç–∞

## –§–∏–∑–∏—á–µ—Å–∫–∞—è –º–æ–¥–µ–ª—å
```sql
-- –¢–∏–ø—ã –ø–æ–µ–∑–¥–æ–≤
CREATE TABLE train_types (
    type_id INTEGER PRIMARY KEY,
    type_name VARCHAR(20) NOT NULL UNIQUE
);

-- –¢–∏–ø—ã –≤–∞–≥–æ–Ω–æ–≤
CREATE TABLE carriage_types (
    carriage_type_id INTEGER PRIMARY KEY,
    type_name VARCHAR(20) NOT NULL UNIQUE,
    base_price DECIMAL(10,2) NOT NULL CHECK (base_price >= 0)
);

-- –¢–∏–ø—ã –ª—å–≥–æ—Ç
CREATE TABLE benefit_types (
    benefit_id INTEGER PRIMARY KEY,
    benefit_name VARCHAR(20) NOT NULL UNIQUE,
    discount_percent INTEGER NOT NULL CHECK (discount_percent >= 0 AND discount_percent <= 100)
);

-- –ü–æ–µ–∑–¥–∞
CREATE TABLE trains (
    train_id VARCHAR(10) PRIMARY KEY,
    manufacture_year INTEGER NOT NULL CHECK (manufacture_year > 1900 AND manufacture_year <= EXTRACT(YEAR FROM CURRENT_DATE)),
    carriage_count INTEGER NOT NULL CHECK (carriage_count > 0 AND carriage_count <= 20),
    type_id INTEGER NOT NULL,
    
    FOREIGN KEY (type_id) REFERENCES train_types(type_id) ON DELETE RESTRICT
);

-- –ü–∞—Å—Å–∞–∂–∏—Ä—ã
CREATE TABLE passengers (
    passenger_id SERIAL PRIMARY KEY,
    last_name VARCHAR(50) NOT NULL,
    first_name VARCHAR(50) NOT NULL,
    middle_name VARCHAR(50),
    passport_series VARCHAR(4) NOT NULL,
    passport_number VARCHAR(6) NOT NULL,
    benefit_id INTEGER,
    
    FOREIGN KEY (benefit_id) REFERENCES benefit_types(benefit_id) ON DELETE SET NULL,
    UNIQUE (passport_series, passport_number)
);

-- –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ
CREATE TABLE schedules (
    schedule_id SERIAL PRIMARY KEY,
    train_id VARCHAR(10) NOT NULL,
    departure_date DATE NOT NULL,
    departure_time TIME NOT NULL,
    departure_station VARCHAR(100) NOT NULL,
    arrival_date DATE NOT NULL,
    arrival_time TIME NOT NULL,
    arrival_station VARCHAR(100) NOT NULL,
    
    FOREIGN KEY (train_id) REFERENCES trains(train_id) ON DELETE CASCADE,
    CHECK (arrival_date >= departure_date),
    UNIQUE (train_id, departure_date, departure_time)
);

-- –ë–∏–ª–µ—Ç—ã
CREATE TABLE tickets (
    ticket_id SERIAL PRIMARY KEY,
    schedule_id INTEGER NOT NULL,
    passenger_id INTEGER NOT NULL,
    sale_datetime TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    ticket_count INTEGER NOT NULL DEFAULT 1 CHECK (ticket_count > 0 AND ticket_count <= 4),
    carriage_type_id INTEGER NOT NULL,
    carriage_number INTEGER NOT NULL CHECK (carriage_number > 0),
    seat_number INTEGER NOT NULL CHECK (seat_number > 0),
    base_price DECIMAL(10,2) NOT NULL CHECK (base_price >= 0),
    final_price DECIMAL(10,2) NOT NULL CHECK (final_price >= 0),
    
    FOREIGN KEY (schedule_id) REFERENCES schedules(schedule_id) ON DELETE CASCADE,
    FOREIGN KEY (passenger_id) REFERENCES passengers(passenger_id) ON DELETE CASCADE,
    FOREIGN KEY (carriage_type_id) REFERENCES carriage_types(carriage_type_id) ON DELETE RESTRICT,
    UNIQUE (schedule_id, carriage_number, seat_number)
);

-- –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–æ–≤ –±–∞–∑–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
INSERT INTO train_types (type_id, type_name) VALUES
(1, '–æ–±—â–∏–π'),
(2, '—Å–∫–æ—Ä–æ—Å—Ç–Ω–æ–π'),
(3, '–≤—ã—Å–æ–∫–æ—Å–∫–æ—Ä–æ—Å—Ç–Ω–æ–π');

INSERT INTO carriage_types (carriage_type_id, type_name, base_price) VALUES
(1, '–æ–±—â–∏–π', 1000.00),
(2, '–ø–ª–∞—Ü–∫–∞—Ä—Ç–Ω—ã–π', 2000.00),
(3, '–∫—É–ø–µ–π–Ω—ã–π', 3500.00);

INSERT INTO benefit_types (benefit_id, benefit_name, discount_percent) VALUES
(1, '–ø–µ–Ω—Å–∏–æ–Ω–µ—Ä', 30),
(2, '—Ä–µ–±–µ–Ω–æ–∫-—Å–∏—Ä–æ—Ç–∞', 50),
(3, '–∏–Ω–≤–∞–ª–∏–¥', 40);

-- –°–æ–∑–¥–∞–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–æ–≤ –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
CREATE INDEX idx_schedules_departure ON schedules(departure_station, departure_date);
CREATE INDEX idx_schedules_arrival ON schedules(arrival_station, arrival_date);
CREATE INDEX idx_tickets_sale_date ON tickets(sale_datetime);
CREATE INDEX idx_tickets_passenger ON tickets(passenger_id);
CREATE INDEX idx_passengers_name ON passengers(last_name, first_name);
CREATE INDEX idx_passengers_passport ON passengers(passport_series, passport_number);
CREATE INDEX idx_trains_type ON trains(type_id);
```
## DDL-–∑–∞–ø—Ä–æ—Å—ã

–¢–∞–±–ª–∏—Ü–∞ train_types
<img width="807" height="492" alt="Screenshot 2025-12-01 210337" src="https://github.com/user-attachments/assets/5963f6f6-f70f-4326-9994-08de4010d00c" />
–¢–∞–±–ª–∏—Ü–∞ carriage_types
<img width="807" height="492" alt="Screenshot 2025-12-01 210337" src="https://github.com/user-attachments/assets/edfd8ea9-5f0e-4a33-a8a8-84bd86e7a5c6" />
–¢–∞–±–ª–∏—Ü–∞ benefit_types
<img width="807" height="492" alt="Screenshot 2025-12-01 210337" src="https://github.com/user-attachments/assets/52885e6a-cd60-4dc6-a70c-88777855482d" />
–¢–∞–±–ª–∏—Ü–∞ trains
<img width="894" height="547" alt="image" src="https://github.com/user-attachments/assets/8d805674-3bc3-4d82-99d3-f2e6b1800699" />
–¢–∞–±–ª–∏—Ü–∞ passengers
<img width="905" height="550" alt="image" src="https://github.com/user-attachments/assets/ccd1ad71-8b51-4a79-b59b-e8149725922b" />
–¢–∞–±–ª–∏—Ü–∞ schedules
<img width="902" height="546" alt="image" src="https://github.com/user-attachments/assets/ef01609d-6305-4ea1-ada1-d27cd546e644" />
–¢–∞–±–ª–∏—Ü–∞ tickets
<img width="902" height="546" alt="image" src="https://github.com/user-attachments/assets/b05ff342-7750-4851-b497-e05081ce6dc2" />

### –¢–∞–±–ª–∏—Ü–∞ –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω–∞—è –¥–∞–Ω–Ω—ã–º–∏

–¢–∞–±–ª–∏—Ü–∞ train_types
<img width="680" height="309" alt="image" src="https://github.com/user-attachments/assets/742a84f9-c6ce-4fb8-af06-2ec256b9f46f" />
<img width="531" height="447" alt="image" src="https://github.com/user-attachments/assets/3489270e-5ca8-466e-8ea2-0529b504f97a" />
–¢–∞–±–ª–∏—Ü–∞ carriage_types
<img width="806" height="322" alt="image" src="https://github.com/user-attachments/assets/71b6a8f1-bd99-462b-8870-4ab2d41a19dd" />
<img width="452" height="459" alt="image" src="https://github.com/user-attachments/assets/92da4ff8-c4a1-4d5f-9c91-c5bf0e796061" />
–¢–∞–±–ª–∏—Ü–∞ benefit_types
<img width="825" height="337" alt="image" src="https://github.com/user-attachments/assets/967b01ed-5250-4c32-882b-6f8afbed5e95" />
<img width="478" height="448" alt="image" src="https://github.com/user-attachments/assets/dba75204-a4e2-4aae-bac8-38b7e0228ed3" />
–¢–∞–±–ª–∏—Ü–∞ trains
<img width="841" height="345" alt="image" src="https://github.com/user-attachments/assets/fdb8806b-f1bc-4622-875e-303f5e8e6e6b" />
<img width="549" height="453" alt="image" src="https://github.com/user-attachments/assets/76756bd3-f9aa-4a9e-a126-62874221652a" />
–¢–∞–±–ª–∏—Ü–∞ passengers
<img width="1231" height="309" alt="image" src="https://github.com/user-attachments/assets/d295692b-1dd7-42ae-b953-6afb1f0ee107" />
<img width="818" height="466" alt="image" src="https://github.com/user-attachments/assets/2aa25b06-985b-41b0-8b6a-20f28f3d1bb9" />
–¢–∞–±–ª–∏—Ü–∞ schedules
<img width="1442" height="269" alt="image" src="https://github.com/user-attachments/assets/deb069da-3c0c-4fd2-b209-1a1584fc9aee" />
<img width="1101" height="471" alt="image" src="https://github.com/user-attachments/assets/f7d23c0d-c5e8-4199-9b68-2daf428e72b9" />
–¢–∞–±–ª–∏—Ü–∞ tickets
<img width="1048" height="383" alt="image" src="https://github.com/user-attachments/assets/53fb8471-0286-4de0-997a-bb11a2e2d7f6" />
<img width="1225" height="558" alt="image" src="https://github.com/user-attachments/assets/4329dfcc-14ef-4f1d-ac01-8c0027d7d89e" />

## SELECT-–∑–∞–ø—Ä–æ—Å—ã —Å JOIN
### –î–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–∞ 1 (–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ):
–ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è JOIN 3 —Ç–∞–±–ª–∏—Ü: schedules, trains, train_types
–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Å—Ç–∞–Ω—Ü–∏—è–º –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏—è/–ø—Ä–∏–±—ã—Ç–∏—è
–í—ã–≤–æ–¥ –ø–æ–ª–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–æ–µ–∑–¥–∞—Ö
–†–∞—Å—á–µ—Ç –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –ø–æ–µ–∑–¥–∫–∏

<img width="1497" height="685" alt="image" src="https://github.com/user-attachments/assets/9b6ac0e8-6316-4cf3-b7f9-d236b765b4d1" />

### –î–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–∞ 2 (–ë–∏–ª–µ—Ç—ã):
–ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è JOIN 4-5 —Ç–∞–±–ª–∏—Ü —Å LEFT JOIN –¥–ª—è –ª—å–≥–æ—Ç
–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –∏–Ω—Ç–µ—Ä–≤–∞–ª—É –≤—Ä–µ–º–µ–Ω–∏ –ø—Ä–æ–¥–∞–∂–∏
–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –¥–∞—Ç–∞–º ‚Üí –Ω–æ–º–µ—Ä–∞–º –≤–∞–≥–æ–Ω–æ–≤ ‚Üí –º–µ—Å—Ç–∞–º
–†–∞—Å—á–µ—Ç —Å–∫–∏–¥–æ–∫ –∏ –∞–≥—Ä–µ–≥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

<img width="1029" height="724" alt="image" src="https://github.com/user-attachments/assets/f9eeb346-008d-456c-a7c2-03b2992c4eb9" />

# –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ 3.
## –ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –¥–ª—è –≤—ã—Ö–æ–¥–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
### –ü–µ—Ä–≤—ã–π –≤—ã—Ö–æ–¥–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç. –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –ø–æ–µ–∑–¥–æ–≤.
<img width="510" height="481" alt="Screenshot 2025-12-16 163107" src="https://github.com/user-attachments/assets/727ab392-222d-4c17-b299-d6ba28124a91" />
–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã
<img width="1166" height="566" alt="Screenshot 2025-12-16 163148" src="https://github.com/user-attachments/assets/d1ab60b3-2526-4214-8e31-c5d1754ba53a" />

### –í—Ç–æ—Ä–æ–π –≤—ã—Ö–æ–¥–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç. –°–ø–∏—Å–æ–∫ –ø—Ä–æ–¥–∞–Ω–Ω—ã—Ö –±–∏–ª–µ—Ç–æ–≤
<img width="664" height="476" alt="Screenshot 2025-12-16 163225" src="https://github.com/user-attachments/assets/20c9b9cb-a00f-4290-bf8a-d75d391dcd34" />
–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã
<img width="1107" height="566" alt="Screenshot 2025-12-16 163253" src="https://github.com/user-attachments/assets/880fecd8-3fac-4bf3-9ad6-b58fc2c5ea31" />

## –ü—Ä–æ—Ü–µ–¥—É—Ä—ã —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏

–ï–∂–µ–¥–Ω–µ–≤–Ω–∞—è –≤—ã—Ä—É—á–∫–∞ —Å –±–∏–ª–µ—Ç–æ–≤
<img width="605" height="690" alt="Screenshot 2025-12-16 164736" src="https://github.com/user-attachments/assets/903b2223-023f-4af0-9396-785734683750" />
<img width="544" height="533" alt="Screenshot 2025-12-16 164818" src="https://github.com/user-attachments/assets/b7746ade-2d58-4b2a-81f4-4614673b68e9" />

–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–∞—Å—Å–∞–∂–∏—Ä–æ–≤
<img width="760" height="729" alt="image" src="https://github.com/user-attachments/assets/ac0e7cea-e38a-42b1-9a05-cee9657b2a37" />
<img width="920" height="445" alt="image" src="https://github.com/user-attachments/assets/97a73b0f-a8bc-4389-bccd-2f5542eb7d2c" />

–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–∞—Å—Å–∞–∂–∏—Ä–∞
<img width="659" height="702" alt="image" src="https://github.com/user-attachments/assets/1ed9a36e-24b7-4bf4-9ec0-338db7ba9f29" />
<img width="905" height="408" alt="image" src="https://github.com/user-attachments/assets/97610bc9-a769-4f6b-b6af-935bb8786098" />

–£–¥–∞–ª–µ–Ω–∏–µ –ø–∞—Å—Å–∞–∂–∏—Ä–∞
<img width="733" height="461" alt="image" src="https://github.com/user-attachments/assets/a86ebb90-64fd-4e43-a89c-04dd49efa820" />
<img width="919" height="260" alt="image" src="https://github.com/user-attachments/assets/08a2b840-d994-4de8-a272-5368e43986dd" />
–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –Ω–∏—á–µ–≥–æ –Ω–µ –≤—ã–≤–µ–ª–æ—Å—å, –ø–æ—Ç–æ–º—É —á—Ç–æ –º—ã —É–¥–∞–ª–∏–ª–∏ –ø–∞—Å—Å–∞–∂–∏—Ä–∞

## –°–ª–æ–∂–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –ø—Ä–∏ –ø–æ—Ç–æ—â–∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è.

–ü–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç—å –º–∞—Ä—à—Ä—É—Ç–æ–≤
<img width="725" height="576" alt="image" src="https://github.com/user-attachments/assets/cfa9165f-26ee-4e4f-b376-4515a1bb6a16" />
<img width="1488" height="264" alt="image" src="https://github.com/user-attachments/assets/1d20c112-baf3-4623-9622-7a4a2250b082" />

–ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –ø–æ –ø–æ–µ–∑–¥–∞–º –∏ –ø–∞—Å—Å–∞–∂–∏—Ä–∞–º
<img width="682" height="580" alt="image" src="https://github.com/user-attachments/assets/7a0d9b97-9b73-4295-978c-f89ac9a11cef" />
<img width="1508" height="255" alt="image" src="https://github.com/user-attachments/assets/29cd87c0-c692-4df2-abf5-e4d86b0a2c17" />
